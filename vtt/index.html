<head>
    <title>virtual tabletop</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="style/main.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">
        var entities = []; // global declaration of ALL entities
        // which button is active on right sidebar
        // var rightsidebar_active = null; 
        var rightsidebar_active = "rsb_walls"; 
    </script>

    <script src="scripts/entities.js"></script>
    <script src="scripts/sidebar.js"></script>
</head>
<body oncontextmenu="return false;">
    
    
    <div class="overlay-menu" id="faq" onclick="toggle_faq();">
        <div class="overlay-box" onclick="event.stopPropagation();">
            <h2>faq</h2>
            <br />
            <p>select a tool from the RIGHT SIDEBAR to edit the map</p>
            <p>█: wall </p>
            <p>o: player (you can focus these ones!)</p>
            <p>@: wanderer</p>
            <p>~: erase</p>
            <p>-/+: change draw size</p>
            <p>click on an entity to FOCUS it</p>
            <p>hold SHIFT when focusing to focus additional entities</p>
            <p>move focused entities with W/A/S/D or &uarr;/&larr;/&darr;/&rarr;</p>
            <p>press ESCAPE to clear the map</p>
            <p>import/export maps in the IO menu</p>
        </div>
    </div>

    <div class="overlay-menu" id="io-menu" onclick="toggle_io();">
        <div class="overlay-box" onclick="event.stopPropagation();">
            <h2>import/export settings</h2>
            <h4>(work in progress -- IO not implemented yet</h4>
            <br />
            <div style="display: inline-grid; column-gap: 200px;">
                <button id="import-text" class="io-btn" onclick="">
                    import state
                </button>

                <button id="export-state" class="io-btn" onclick="">
                    export state
                </button> 

                <button id="export-text" class="io-btn" onclick="export_ascii()">
                    export ASCII
                </button>
            </div>
            
            <div id="io-box">
                <!-- <input type="text" placeholder="copy/paste IO string here" id="iostring"> </input> -->
                <textarea name="iotext" id="iotext" cols="50" rows="6" data-gramm="false"
                data-gramm_editor="false"
                data-enable-grammarly="false"></textarea>
            </div>

            <p class="exit-menu-text">click anywhere else or press ESCAPE to exit</p>
        </div>
    </div>

    <div id="map">
        <div id="drag-overlay"></div>
        <!-- Container for edges around screen -->
    </div>

    <div class="sidebar right top">
        <!-- right sidebar: paint options, FAQ, and more -->

        <button id="rsb_walls" class="rightside button focused" tabindex="-1" onclick="right_sidebar('rsb_walls')">
            █
        </button>

        <button id="rsb_player" class="rightside button" tabindex="-1" onclick="right_sidebar('rsb_player')">
            o
        </button>

        <button id="rsb_entity" class="rightside button" tabindex="-1" onclick="right_sidebar('rsb_entity')">
            @
        </button>

        <button id="rsb_erase" class="rightside button" tabindex="-1" onclick="right_sidebar('rsb_erase')">
            ~
        </button>

        <p><a id="decrease_drawsize" onclick="drawsize(-1)" style="text-decoration:none;">-</a>/<a id="increase_drawsize" onclick="drawsize(1)">+</a></p>

    </div>

    <div class="sidebar right bottom">
        <button id="rsb_faq" class="rightside button bottom" tabindex="-1" onclick="toggle_faq()">
            ?
        </button>

        <button id="rsb_export" class="rightside button bottom" tabindex="-1" onclick="toggle_io()">
            IO
        </button>
    </div>

    <!-- <div id="faq">
        <div id="faq-box" style="">
            <p>press ESCAPE to clear the map</p>
        </div>
    </div> -->

    <!-- <script src="scripts/entities.js"></script> -->
    <script src="scripts/fill.js"></script>
    <script src="scripts/input.js"></script>
    
    <footer>
        <div class="copyright" style="position: absolute; right: 0px; padding-right: 80px;">
            <a href="https://j-red.github.io/" target="_blank">© j-red 2022</a>
        </div>
    </footer>
</body>
<footer>

</footer>